<h1 class="text-3xl font-bold mb-4">My Account</h1>
<%= form_with model: @user, url: account_path, method: :patch do |f| %>
  <div class="grid md:grid-cols-2 gap-4">
    <div>
      <label class="text-sm">Name</label>
      <%= f.text_field :name, class: "w-full border rounded px-3 py-2" %>
    </div>
    <div>
      <label class="text-sm">Work Email</label>
      <%= f.email_field :email, class: "w-full border rounded px-3 py-2" %>
    </div>
    <div>
      <label class="text-sm">Company</label>
      <%= f.text_field :company, class: "w-full border rounded px-3 py-2" %>
    </div>
    <div>
      <label class="text-sm">Role</label>
      <%= f.text_field :role, class: "w-full border rounded px-3 py-2" %>
    </div>
  </div>
  <h2 class="text-xl font-semibold mt-6 mb-2">Change password</h2>
  <div class="grid md:grid-cols-3 gap-4">
    <div>
      <label class="text-sm">Current password</label>
      <%= password_field_tag :current_password, nil, name: "user[current_password]", class: "w-full border rounded px-3 py-2" %>
    </div>
    <div>
      <label class="text-sm">New password</label>
      <%= f.password_field :password, class: "w-full border rounded px-3 py-2" %>
    </div>
    <div>
      <label class="text-sm">Confirm new password</label>
      <%= f.password_field :password_confirmation, class: "w-full border rounded px-3 py-2" %>
    </div>
  </div>
<div class="mt-4">
  <%= f.submit "Save changes", class: "btn-brand" %>
</div>
<% end %>

<div class="bg-white border rounded p-6 mt-8">
  <h2 class="text-xl font-semibold mb-2 text-red-600">Danger zone</h2>
  <p class="text-sm text-gray-700 mb-3">Delete your account and all associated data. This action cannot be undone.</p>
  <%= form_with url: account_path, method: :delete do %>
    <div class="max-w-sm">
      <label class="text-sm">Confirm your current password</label>
      <%= password_field_tag :current_password, nil, name: "user[current_password]", required: true, class: "w-full border rounded px-3 py-2" %>
    </div>
    <div class="mt-3">
      <%= submit_tag "Delete account", class: "px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700" %>
    </div>
  <% end %>
</div>
